<!-- <!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>logged in user</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="/template/index.css">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
</head>

<body>
 
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'PT Sans', sans-serif;
    }

    nav {
      display: flex;
    }

    .user {
      margin-top: -6rem;
      margin-left: 85rem;
    }


    .navbar li a {
      text-decoration: none;
      color: grey;
    }

    .navbar li {
      list-style: none;
    }


    #menu {
      width: 35px;
      height: 30px;
      margin: 30px 0 20px 20px;
      cursor: pointer;
      z-index: 100;
    }

    .bar {
      height: 5px;
      width: 100%;
      background-color: black;
      display: block;
      border-radius: 5px;
      transition: 0.3s ease;
    }

    #bar1 {
      transform: translateY(-4px);
    }

    #bar3 {
      transform: translateY(4px);
    }

    .nav li a {
      color: white;
      text-decoration: none;
    }

    .nav li a:hover{
      color: black;
      cursor: pointer;
    }

    .nav li {
      list-style: none;
      padding: 16px 0;
    }

    .nav {
      padding: 0;
      margin: 0 20px;
      transition: 1s ease;
      display: none;
    }

    .icon .bar {
      background-color: #ffffff;
    }


    .icon #bar1 {
      transform: translateY(4px) rotate(-45deg);
    }

    .icon #bar3 {
      transform: translateY(-6px) rotate(45deg);
    }

    .icon #bar2 {
      opacity: 0;
    }



    .change {
      background-color: rgb(168, 123, 211);
      height: 100vh;
      margin: 0;
      position: absolute;
      font-size: 30px;
      top: 0;
      z-index: 1;
      width: 20%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }



    .cards1 {
      margin-left: 20rem;
    }

    .cards2 {
      margin-left: 5rem;
    }

    .cards3 {
      margin-left: 5rem;
    }

    .card {
      margin-top: 2rem;
      box-shadow: 5px 5px 5px 5px rgb(229, 229, 229);
    }

    .cardsMenu {
      display: flex;
      transition: 0.2s ease-in-out;
      animation-name: cardanima;
      animation-duration: 1s;
    }

    @keyframes cardanima {
      0% {
        opacity: 0;
      }

      100% {
        opacity: 100% ease-in;
      }
    }
  </style>


<div id="navigation">
  <div id="menu" onclick="onClickMenu()">
    <div id="bar1" class="bar"></div>
    <div id="bar2" class="bar"></div>
    <div id="bar3" class="bar"></div>
</div>
  <ul class="nav" id="nav">
    <li><a href="\">Home</a></li>
    <li><a href="\expenses">Expenses</a></li>
    <li><a href="\expenses_history">Expense Summary</a></li>
    <li><a href="#">rait</a></li>
    <li><a href="#">school</a></li>
    <li><a href="logout">Logout</a></li>
  </ul>
</div>













  <nav>
    <ul class="navbar">
      <li class="user">
        <h3><a href="#">{{user}} <i class="fa-regular fa-user"></i></a></h3>
      </li>
    </ul>
  </nav>


  <div class="cardsMenu">
    <div class="cards1">
      <div class="card" style="width: 15rem;">
        <div class="card-body">
          <h5 class="card-title" style="color: blueviolet;"></h5>
          <h6 class="card-subtitle mb-2 text-body-secondary">Card subtitle</h6>
          <p class="card-text">₹0</p>
        </div>
      </div>

      <div class="card" style="width: 15rem;">
        <div class="card-body">
          <h5 class="card-title" style="color: orangered;">Card title</h5>
          <h6 class="card-subtitle mb-2 text-body-secondary">Card subtitle</h6>
          <p class="card-text">₹0</p>
        </div>
      </div>

      <div class="card" style="width: 15rem;">
        <div class="card-body">
          <h5 class="card-title" style="color: purple;">Card title</h5>
          <h6 class="card-subtitle mb-2 text-body-secondary">Card subtitle</h6>
          <p class="card-text">₹0</p>
        </div>
      </div>
    </div>




    <div class="cards2">
      <div class="card" style="width: 15rem;">
        <div class="card-body">
          <h5 class="card-title" style="color: darkgray;">Card title</h5>
          <h6 class="card-subtitle mb-2 text-body-secondary">Card subtitle</h6>
          <p class="card-text">₹0</p>
        </div>
      </div>

      <div class="card" style="width: 15rem;">
        <div class="card-body">
          <h5 class="card-title" style="color: brown;">Card title</h5>
          <h6 class="card-subtitle mb-2 text-body-secondary">Card subtitle</h6>
          <p class="card-text">₹0</p>
        </div>
      </div>

      <div class="card" style="width: 15rem;">
        <div class="card-body">
          <h5 class="card-title" style="color: green;">Card title</h5>
          <h6 class="card-subtitle mb-2 text-body-secondary">Card subtitle</h6>
          <p class="card-text">₹0</p>
        </div>
      </div>
    </div>




    <div class="cards3">
      <div class="card" style="width: 18rem;">
        <div class="card-body">
          <h5 class="card-title" style="color: darkgrey;"><a href="/expenses"><i class="fa-duotone fa-solid fa-plus"></i></a> Add
            Your Other Expenses</h5>
        </div>
      </div>

      <div>
        <div class="card" style="width: 18rem;">
          <img src="" class="card-img-top-graph"
            alt="...">
        </div>
      </div>


    </div>
  </div>
  </div>









  <script>
    function onClickMenu() {
      document.getElementById("menu").classList.toggle("icon");
      document.getElementById("nav").classList.toggle("change")
    }

  </script>
</body>

</html>
 -->


 <!-- <!DOCTYPE html>
 <html lang="en">
 
 <head>
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>Overall Expense Summary</title>
     <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
     <link rel="stylesheet" href="/template/index.css">
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
     <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
     <style>
         body {
             margin: 0;
             padding: 0;
             font-family: 'PT Sans', sans-serif;
         }
 
         nav {
             display: flex;
         }
 
         .user {
             margin-top: -6rem;
             margin-left: 85rem;
         }
 
         .navbar li a {
             text-decoration: none;
             color: grey;
         }
 
         .navbar li {
             list-style: none;
         }
 
         #menu {
             width: 35px;
             height: 30px;
             margin: 30px 0 20px 20px;
             cursor: pointer;
             z-index: 100;
         }
 
         .bar {
             height: 5px;
             width: 100%;
             background-color: black;
             display: block;
             border-radius: 5px;
             transition: 0.3s ease;
         }
 
         #bar1 {
             transform: translateY(-4px);
         }
 
         #bar3 {
             transform: translateY(4px);
         }
 
         .nav li a {
             color: white;
             text-decoration: none;
         }
 
         .nav li a:hover {
             color: black;
             cursor: pointer;
         }
 
         .nav li {
             list-style: none;
             padding: 16px 0;
         }
 
         .nav {
             padding: 0;
             margin: 0 20px;
             transition: 1s ease;
             display: none;
         }
 
         .icon .bar {
             background-color: #ffffff;
         }
 
         .icon #bar1 {
             transform: translateY(4px) rotate(-45deg);
         }
 
         .icon #bar3 {
             transform: translateY(-6px) rotate(45deg);
         }
 
         .icon #bar2 {
             opacity: 0;
         }
 
         .change {
             background-color: rgb(168, 123, 211);
             height: 100vh;
             margin: 0;
             position: absolute;
             font-size: 30px;
             top: 0;
             z-index: 1;
             width: 20%;
             display: flex;
             flex-direction: column;
             align-items: center;
             justify-content: center;
         }
 
         .cardsMenu {
             display: flex;
             flex-wrap: wrap; /* Allow cards to wrap */
             justify-content: space-around; /* Space cards evenly */
             margin-top: 2rem;
         }
 
         .card {
             margin: 1rem;
             box-shadow: 5px 5px 5px 5px rgb(229, 229, 229);
             width: 15rem; /* Set a uniform width for cards */
         }
 
         @keyframes cardanima {
             0% {
                 opacity: 0;
             }
 
             100% {
                 opacity: 100% ease-in;
             }
         }
     </style>
 </head>
 
 <body>
     <div id="navigation">
         <div id="menu" onclick="onClickMenu()">
             <div id="bar1" class="bar"></div>
             <div id="bar2" class="bar"></div>
             <div id="bar3" class="bar"></div>
         </div>
         <ul class="nav" id="nav">
             <li><a href="/">Home</a></li>
             <li><a href="/expenses">Expenses</a></li>
             <li><a href="/expenses_history">Expense Summary</a></li>
             <li><a href="#">Rait</a></li>
             <li><a href="#">School</a></li>
             <li><a href="/logout">Logout</a></li>
         </ul>
     </div>
 
     <nav>
         <ul class="navbar">
             <li class="user">
                 <h3><a href="#">{{user}} <i class="fa-regular fa-user"></i></a></h3>
             </li>
         </ul>
     </nav>
 
     <div class="cardsMenu">
         <div class="card">
             <div class="card-body">
                 <h5 class="card-title" style="color: blueviolet;">Total Expenses</h5>
                 <h6 class="card-subtitle mb-2 text-body-secondary">₹{{total_expenses}}</h6>
             </div>
         </div>
 
         <div class="card">
             <div class="card-body">
                 <h5 class="card-title" style="color: orangered;">Monthly Expenses</h5>
                 <h6 class="card-subtitle mb-2 text-body-secondary">₹{{monthly_expenses}}</h6>
             </div>
         </div>
 
         <div class="card">
             <div class="card-body">
                 <h5 class="card-title" style="color: purple;">Savings</h5>
                 <h6 class="card-subtitle mb-2 text-body-secondary">₹{{savings}}</h6>
             </div>
         </div>
 
         <div class="card">
             <div class="card-body">
                 <h5 class="card-title" style="color: darkgray;">Upcoming Expenses</h5>
                 <h6 class="card-subtitle mb-2 text-body-secondary">₹{{upcoming_expenses}}</h6>
             </div>
         </div>
 
         <div class="card">
             <div class="card-body">
                 <h5 class="card-title" style="color: brown;">Average Monthly Expense</h5>
                 <h6 class="card-subtitle mb-2 text-body-secondary">₹{{average_monthly_expense}}</h6>
             </div>
         </div>
 
         <div class="card pie-chart-card">
             <div class="card-body">
                 <h5 class="card-title" style="color: green;">Overall Expense Summary</h5>
                 <h6 class="card-subtitle mb-2 text-body-secondary">Expense Breakdown</h6>
                 <canvas id="expensePieChart"></canvas>
             </div>
         </div>
     </div>
 
     <script>
         function onClickMenu() {
             document.getElementById("menu").classList.toggle("icon");
             document.getElementById("nav").classList.toggle("change");
         }
 
         // Function to render the doughnut chart (ring chart)
         function renderPieChart() {
             const ctx = document.getElementById('expensePieChart').getContext('2d');
             const pieChart = new Chart(ctx, {
                 type: 'doughnut', // Change to doughnut for a ring chart
                 data: {
                     labels: ['Food', 'Utilities', 'Rent', 'Others'], // Example categories
                     datasets: [{
                         label: 'Expense Categories',
                         data: [30, 20, 25, 25], // Example data
                         backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0'],
                         hoverOffset: 4
                     }]
                 },
                 options: {
                     responsive: true,
                     plugins: {
                         legend: {
                             position: 'top',
                         },
                         title: {
                             display: true,
                             text: 'Overall Expense Summary'
                         }
                     }
                 }
             });
         }
 
         // Call the function to render the pie chart
         renderPieChart();
     </script>
 </body>
 
 </html>
  -->









  <!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Overall Expense Summary</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/template/index.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'PT Sans', sans-serif;
        }

        nav {
            display: flex;
        }

        .user {
            margin-top: -6rem;
            margin-left: 85rem;
        }

        .navbar li a {
            text-decoration: none;
            color: grey;
        }

        .navbar li {
            list-style: none;
        }

        #menu {
            width: 35px;
            height: 30px;
            margin: 30px 0 20px 20px;
            cursor: pointer;
            z-index: 100;
        }

        .bar {
            height: 5px;
            width: 100%;
            background-color: black;
            display: block;
            border-radius: 5px;
            transition: 0.3s ease;
        }

        #bar1 {
            transform: translateY(-4px);
        }

        #bar3 {
            transform: translateY(4px);
        }

        .nav li a {
            color: white;
            text-decoration: none;
        }

        .nav li a:hover {
            color: black;
            cursor: pointer;
        }

        .nav li {
            list-style: none;
            padding: 16px 0;
        }

        .nav {
            padding: 0;
            margin: 0 20px;
            transition: 1s ease;
            display: none;
        }

        .icon .bar {
            background-color: #ffffff;
        }

        .icon #bar1 {
            transform: translateY(4px) rotate(-45deg);
        }

        .icon #bar3 {
            transform: translateY(-6px) rotate(45deg);
        }

        .icon #bar2 {
            opacity: 0;
        }

        .change {
            background-color: rgb(168, 123, 211);
            height: 100vh;
            margin: 0;
            position: absolute;
            font-size: 30px;
            top: 0;
            z-index: 1;
            width: 20%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .cardsMenu {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            margin-top: 2rem;
        }

        .card {
            margin: 1rem;
            box-shadow: 5px 5px 5px 5px rgb(229, 229, 229);
            width: 15rem;
        }
    </style>
</head>

<body>
    <div id="navigation">
        <div id="menu" onclick="onClickMenu()">
            <div id="bar1" class="bar"></div>
            <div id="bar2" class="bar"></div>
            <div id="bar3" class="bar"></div>
        </div>
        <ul class="nav" id="nav">
            <li><a href="/">Home</a></li>
            <li><a href="/expenses">Expenses</a></li>
            <li><a href="/expenses_history">Expense Summary</a></li>
            <li><a href="#">Rait</a></li>
            <li><a href="#">School</a></li>
            <li><a href="/logout">Logout</a></li>
        </ul>
    </div>

    <nav>
        <ul class="navbar">
            <li class="user">
                <h3><a href="#">{{user}} <i class="fa-regular fa-user"></i></a></h3>
            </li>
        </ul>
    </nav>

    <div class="cardsMenu">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title" style="color: blueviolet;">Total Expenses</h5>
                <h6 class="card-subtitle mb-2 text-body-secondary">₹0{{ total_expenses }}</h6>
            </div>
        </div>

        <div class="card">
            <div class="card-body">
                <h5 class="card-title" style="color: orangered;">Monthly Expenses</h5>
                <h6 class="card-subtitle mb-2 text-body-secondary">₹0{{ monthly_expenses }}</h6>
            </div>
        </div>

        <div class="card">
            <div class="card-body">
                <h5 class="card-title" style="color: purple;">Savings</h5>
                <h6 class="card-subtitle mb-2 text-body-secondary">₹0{{ savings }}</h6>
            </div>
        </div>

        <div class="card">
            <div class="card-body">
                <h5 class="card-title" style="color: darkgray;">Upcoming Expenses</h5>
                <h6 class="card-subtitle mb-2 text-body-secondary">₹0{{ upcoming_expenses }}</h6>
            </div>
        </div>

        <div class="card">
            <div class="card-body">
                <h5 class="card-title" style="color: brown;">Average Monthly Expense</h5>
                <h6 class="card-subtitle mb-2 text-body-secondary">₹0{{ average_monthly_expense }}</h6>
            </div>
        </div>

        <div class="card pie-chart-card">
            <div class="card-body">
                <h5 class="card-title" style="color: green;">Overall Expense Summary</h5>
                <h6 class="card-subtitle mb-2 text-body-secondary">Expense Breakdown</h6>
                <canvas id="expensePieChart"></canvas>
            </div>
        </div>
    </div>

    <script>
        function onClickMenu() {
            document.getElementById("menu").classList.toggle("icon");
            document.getElementById("nav").classList.toggle("change");
        }

        // Data for the pie chart
        const totalExpenses = {{ total_expenses|default:0 }};
        const savings = {{ savings|default:0 }};
        const upcomingExpenses = {{ upcoming_expenses|default:0 }};
        const monthlyExpenses = {{ monthly_expenses|default:0 }};
        const otherExpenses = totalExpenses - (savings + upcomingExpenses + monthlyExpenses);

        // Function to render the doughnut chart (ring chart)
        function renderPieChart() {
            const ctx = document.getElementById('expensePieChart').getContext('2d');
            const pieChart = new Chart(ctx, {
                type: 'doughnut', // Change to doughnut for a ring chart
                data: {
                    labels: ['Food', 'Utilities', 'Rent', 'Others'], // Example categories
                    datasets: [{
                        label: 'Expense Categories',
                        data: [30, 20, 25, 25], // Example data
                        backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0'],
                        hoverOffset: 4
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'top',
                        },
                        title: {
                            display: true,
                            text: 'Overall Expense Summary'
                        }
                    }
                }
            });
        }

        // Call the function to render the pie chart
        renderPieChart();
    </script>
</body>

</html>
